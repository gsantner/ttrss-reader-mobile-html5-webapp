<!DOCTYPE html>
<html>
<head>
  <title>TTRSS-Reader</title>
  <meta name="viewport" content="initial-scale=1">
  <meta charset="UTF-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="style/main.css">
  <script src="scripts/conf.js"></script>
  <script src="scripts/lib/underscore.js"></script>
  <script data-main="scripts/main" src="scripts/lib/require.js"></script>
  <link rel="icon" href="favicon.png">
  <meta name="theme-color" content="#FA9D39" />
  <!-- iPhone -->
  <link rel="apple-touch-icon"
        href="touch-icon-iphone.png" />
  <link rel="apple-touch-startup-image"
        href="touch-startup-image-320x460.png"
        media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)">
  <!-- iPhone retina -->
  <link rel="apple-touch-icon" sizes="114x114" href="touch-icon-iphone-retina.png" />
  <!-- iPhone 4/4S -->
  <link rel="apple-touch-startup-image"
        href="touch-startup-image-640x920.png"
        media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)">
  <!-- iPhone 5 -->
  <link rel="apple-touch-startup-image"
        href="touch-startup-image-640x1096.png"
        media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)">
  <link rel="stylesheet" href="style/gsnavbar.css">
  <meta name="referrer" content="no-referrer" />
</head>

<body>

  <div data-role="page" id="categories" data-title="TTRSS-Reader - Categories">
    <div data-role="header" data-position="fixed">
      <a href="#settings" data-role="button" data-mini="true"
        class="ui-btn-left" data-icon="gear"
        data-theme="b">Settings</a>
      <h1>Categories</h1>
      <a href="#cat-1/feed-4" data-role="button" data-theme="b"
        data-mini="true" class="ui-btn-right" style="position: absolute; right: 80px;">🆕</a>
      <a href="#catPopupMenu" data-role="button" data-mini="true"
        class="ui-btn-right" data-icon="bars"
        data-theme="b" data-rel="popup">Menu</a>
    </div>
    <div data-role="content">
      <ul data-role="listview">
      </ul>
      <div class="gsnavbar">
          <p class="project-help-more-faq">App v1.1.3 | <a target="_blank" href="https://gsantner.net/project/ttrssreadermobile.html?source=inapp_project_website">Project Website &amp; Help</a> </p>
          <div class="gsnavbar-dock">
            <button type="button" onclick="document.getElementsByClassName('backButton')[0].click();"                   ><span>⬅</span><br/>Back</button>
            <button type="button" onclick="window.location.hash = 'cat-1/feed-4';" ><span>🆕</span><br/>All</button>
            <button type="button" onclick="location.reload();"                       ><span>🔄</span><br/>Reload</button>
            <button type="button" onclick="window.location.href='index.html#home'"><span>🏠</span><br/>Home</button>
          </div>
        </div>
    </div>
    
    <div id="catPopupMenu" data-role="popup"
      data-transition="pop" data-tolerance="34,5,0,0">
      <ul data-role="listview" data-inset="true" data-theme="b">
        <li data-icon="refresh"><a href="#" class="refreshButton">Refresh</a></li>     
        <li data-icon="delete"><a href="#" class="logoutButton">Logout</a></li>       
      </ul>
    </div>
  </div>
 

  <div data-role="page" id="login" data-title="TTRSS-Reader - Login">
    <div data-role="header">
      <h1>TTRSS-Reader - Login</h1>
    </div>
    <div data-role="content">
      <form action="#" method="POST" data-ajax="false">      
        <div data-role="fieldcontain">
          <label for="ttrss_server_urlInput">Server URL:</label>
          <input type="text" name="ttrss_server_url" id="ttrss_server_urlInput" value="" placeholder="https://example.net/tt-rss/ -- End with a Slash(/)!" />
        </div>
        <div data-role="fieldcontain">
          <label for="loginInput">Username:</label>
          <input type="text" autocomplete="ttrss_username" name="login" id="loginInput" value="" placeholder="ttrss"
            autocapitalize="none" autocorrect="off" />
        </div>
        <div data-role="fieldcontain">
          <label for="ttrss_passwordInput">Password:</label>
          <input type="password" name="ttrss_password" id="ttrss_passwordInput" value="" placeholder="**topsecret**" autocomplete="current-password" />
        </div>
        <button type="submit" data-theme="b">Login</button>
      </form>
      <div class="gsnavbar">
          <p class="project-help-more-faq">App v1.1.3 | <a target="_blank" href="https://gsantner.net/project/ttrssreadermobile.html?source=inapp_project_website">Project Website &amp; Help</a> </p>
          <div class="gsnavbar-dock">
            <button type="button" onclick="document.getElementsByClassName('backButton')[0].click();"                   ><span>⬅</span><br/>Back</button>
            <button type="button" onclick="document.getElementsByClassName('ui-link ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all')[0].click()" ><span>➡️</span><br/>Next</button>
            <button type="button" onclick="location.reload();"                       ><span>🔄</span><br/>Reload</button>
            <button type="button" onclick="window.location.href='index.html#home'"><span>🏠</span><br/>Home</button>
          </div>
        </div>
    </div>
  </div>


  <div data-role="page" id="feeds" data-title="TTRSS-Reader - Feeds">
    <div data-role="header" data-position="fixed">
      <a href="#" data-role="button"
        data-icon="back"
        data-mini="true" class="ui-btn-left backButton">Back</a>
      <h1>Category</h1>
      <a data-rel="popup" href="#feedsMenuPopup" data-role="button"
        data-mini="true" class="ui-btn-right"
        data-icon="bars" data-theme="b">Menu</a>
    </div>
    <div data-role="content">
      <ul data-role="listview">
      </ul>

      <div class="gsnavbar">
          <div class="gsnavbar-dock">
            <button type="button" onclick="document.getElementsByClassName('backButton')[0].click();"                   ><span>⬅</span><br/>Back</button>
            <button type="button" onclick="var a= window.location.hash.replace('#cat',''); window.location.hash = 'cat'+a+'/feed-9'+a;" ><span>🆕</span><br/>All cat</button>
            <button type="button" onclick="location.reload();"                       ><span>🔄</span><br/>Reload</button>
            <button type="button" onclick="window.location.href='index.html#home'"><span>🏠</span><br/>Home</button>
          </div>
        </div>
    </div>    
    <div id="feedsMenuPopup" data-role="popup" data-history="false"
      data-transition="pop" data-tolerance="34,5,0,0">
      <ul data-role="listview" data-inset="true" data-theme="b">
        <li data-icon="refresh"><a href="#" class="refreshButton">Refresh</a></li>     
        <li data-icon="delete"><a href="#" class="logoutButton">Logout</a></li>       
      </ul>
    </div>
  </div><!-- Page #feeds -->

  <div data-role="page" id="articles" data-title="TTRSS-Reader - Articles">
    <div data-role="header" data-position="fixed">
      <a href="#categories" data-role="button"
        data-icon="back"
        data-mini="true" class="ui-btn-left backButton">Back</a>
      <h1>Feed</h1>
      <a href="#artMenuPopup" data-role="button" data-mini="true"
        class="ui-btn-right" data-icon="bars"
        data-theme="b" data-rel="popup">Menu</a>
    </div>
    <div data-role="content">
      <ul data-role="listview">
      </ul>
      <div class="gsnavbar">
          <div class="gsnavbar-dock">
            <button type="button" onclick="document.getElementsByClassName('backButton')[0].click();"                   ><span>⬅</span><br/>Back</button>
            <button type="button" onclick="document.getElementsByClassName('toggleUnreadButton')[0].click(); document.getElementsByClassName('refreshButton')[2].click();" ><span>✔</span><br/>Read</button>
            <button type="button" onclick="location.reload();"                       ><span>🔄</span><br/>Reload</button>
            <button type="button" onclick="window.location.href='index.html#home'"   ><span>🏠</span><br/>Home</button>
          </div>
        </div>
    </div>
    
    <div id="artMenuPopup" data-role="popup" data-history="false"
      data-transition="pop" data-tolerance="34,5,0,0">
      <ul data-role="listview" data-inset="true" data-theme="b">
        <li data-icon="refresh"><a href="#" class="refreshButton">Refresh</a></li>     
        <li data-icon="check"><a href="#" class="toggleUnreadButton">Mark all as read</a></li>
        <li data-icon="delete"><a href="#" class="logoutButton">Logout</a></li>       
      </ul>
    </div>
 </div>
 
  <div data-role="page" id="read" data-add-back-btn="true" data-title="TTRSS-Reader - Article">
    <div data-role="header">
      <a href="#categories" data-role="button"
        data-icon="back"
        data-mini="true" class="ui-btn-left backButton">Back</a>
      <h1></h1>
      <a href="#readPopupMenu" data-role="button" data-mini="true"
        class="ui-btn-right" data-icon="bars"
        data-theme="b" data-rel="popup">Menu</a>
    </div><!-- header -->
    <div data-role="content">
      <div class="header">
        <h3><a class="open-article-link" href="" target="_blank"></a></h3>
        <p class="feed">Feed: <span></span></p>
        <p class="updateTime">Updated: <span></span></p>
      </div>
      <div class="main">
      </div>
        <div class="gsnavbar">
          <div class="gsnavbar-dock">
            <button type="button" onclick="document.getElementsByClassName('backButton')[2].click();"                   ><span>⬅</span><br/>Back</button>
            <button type="button" onclick="document.getElementsByClassName('ui-link ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all')[0].click()" ><span>➡️</span><br/>Next</button>
            <button type="button" onclick="document.getElementsByClassName('open-article-link ui-link')[0].click();"                       ><span>🌍</span><br/>More</button>
            <button type="button" onclick="window.location.href='index.html#home'"><span>🏠</span><br/>Home</button>
          </div>
        </div>
    </div>

    <div id="readPopupMenu" data-role="popup" data-history="false"
      data-transition="pop" data-tolerance="34,5,0,0">
      <ul data-role="listview" data-inset="true" data-theme="b">
        <li data-icon="check"><a href="#" class="toggleUnreadButton">Mark as unread</a></li>
        <li data-icon="star"><a href="#" class="toggleStarredButton">Mark as starred</a></li>
        <li data-icon="plus"><a href="#" class="togglePublishButton">Publish</a></li>
        <li data-icon="delete"><a href="#" class="logoutButton">Logout</a></li>       
      </ul>
    </div>
  </div>

  <div data-role="page" id="settings" data-add-back-btn="true" data-title="Settings">
    <div data-role="header">
      <a href="#" data-role="button"
        data-icon="delete"
        data-mini="true" class="ui-btn-left">Close</a>
      <h1>Settings</h1>
    </div>
    <div data-role="content">
      <form action="#" method="POST" data-ajax="false">      
        <label for="articles-number">Number of articles to load:</label>
        <input name="artNumber" pattern="[0-9]*"
          id="articles-number" value="100" type="number">
        <label for="resize-images-option">Resize images to max dimension (plugin required). Disable resize with 0:</label>
        <input name="resizeImages" pattern="[0-9]*"
          id="resize-images-option" value="500" type="number" placeholder="px">
        <input name="artOldestFirst" id="articles-oldest-first" type="checkbox">
        <label for="articles-oldest-first">Show oldest articles first</label>
        <input name="onlyUnread" id="only-unread" type="checkbox">
        <label for="only-unread">Only show unread</label>
        <input name="darkMode" id="dark-mode-option" type="checkbox">
        <label for="dark-mode-option">Dark Mode</label>
        <input name="clickCategoryOpenAllItsArticles" id="click-category-open-all-its-articles" type="checkbox">
        <label for="click-category-open-all-its-articles">Show all articles of a clicked category</label>
      </form>
      <p><b>Notice:</b> Reload for changes to take fully affect.</p>
    </div>
    <div class="gsnavbar">
        <div class="gsnavbar-dock">
          <button type="button" onclick="document.getElementsByClassName('backButton')[0].click();"                   ><span>⬅</span><br/>Back</button>
          <button type="button" onclick="document.getElementsByClassName('ui-link ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all')[0].click()" ><span>➡️</span><br/>Next</button>
          <button type="button" onclick="location.reload();"                       ><span>🔄</span><br/>Reload</button>
          <button type="button" onclick="window.location.href='index.html#home'"><span>🏠</span><br/>Home</button>
        </div>
      </div>
  </div>
  <script>

    window.addEventListener("keydown", function(e){
      if (document.activeElement.nodeName.toLowerCase() === 'input') { return;}
      
      switch(e.keyCode) {
        case 66: // B
        case 8:  // backspace = go home
          e.preventDefault(); document.getElementsByClassName('backButton')[0].click(); break;
        case 74: // J
          e.preventDefault(); document.getElementsByClassName('ui-link ui-btn ui-icon-arrow-r ui-btn-icon-right ui-corner-all')[0].click(); break;
        case 79: // O
        case 76: // L
          e.preventDefault(); window.open(document.getElementsByClassName("open-article-link ui-link")[0].href); self.focus(); break;
        case 75: // K
          if (document.getElementsByClassName('ui-disabled ui-link ui-btn ui-icon-arrow-l ui-btn-icon-left ui-shadow ui-corner-all').length > 0) {
            break;
          }
          e.preventDefault(); document.getElementsByClassName('ui-link ui-btn ui-icon-arrow-l ui-btn-icon-left ui-shadow ui-corner-all')[0].click(); break;
        default:
          //alert(e.keyCode); 
          break;
      }
      
    });
  </script>

</body>
</html>
